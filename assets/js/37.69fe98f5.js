(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{179:function(a,t,r){"use strict";r.r(t);var e=r(0),s=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,t=a.$createElement,r=a._self._c||t;return r("div",{staticClass:"content"},[r("p",[a._v("#定义\n任何人在任何时间 任何地点 通过任何的接入方式 调用任何的服务 数据都是一致的")]),a._v(" "),r("h1",{attrs:{id:"产生的原因-数据分布在多处-和分布在一个数据-还有缓存"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#产生的原因-数据分布在多处-和分布在一个数据-还有缓存","aria-hidden":"true"}},[a._v("#")]),a._v(" 产生的原因 数据分布在多处 和分布在一个数据 还有缓存")]),a._v(" "),r("h1",{attrs:{id:"本地事务-强一致性-分布式解决方案-大多数是最终一致性"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#本地事务-强一致性-分布式解决方案-大多数是最终一致性","aria-hidden":"true"}},[a._v("#")]),a._v(" 本地事务 强一致性  分布式解决方案 大多数是最终一致性")]),a._v(" "),r("h1",{attrs:{id:"_2pc-xa规范的标准实现-刚性分布式事务-（强一致性··）-大部分情况下是理论模型"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2pc-xa规范的标准实现-刚性分布式事务-（强一致性··）-大部分情况下是理论模型","aria-hidden":"true"}},[a._v("#")]),a._v(" 2PC XA规范的标准实现  刚性分布式事务 （强一致性··） 大部分情况下是理论模型")]),a._v(" "),r("h1",{attrs:{id:"柔性分布式事务-把一个事务变成长事务-然后转变成多个短事务"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#柔性分布式事务-把一个事务变成长事务-然后转变成多个短事务","aria-hidden":"true"}},[a._v("#")]),a._v(" 柔性分布式事务 把一个事务变成长事务 然后转变成多个短事务")]),a._v(" "),r("h2",{attrs:{id:"异步场景分布式事务设计"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#异步场景分布式事务设计","aria-hidden":"true"}},[a._v("#")]),a._v(" 异步场景分布式事务设计")]),a._v(" "),r("pre",[r("code",[a._v("事务消息 达到事务的最终一致性\n半消息 暂时不投递消息 \n消息回查\n")])]),a._v(" "),r("h2",{attrs:{id:"方案一（用的少-第一支持的少-然后很多的幂等性不能保证）业务流程-首先是业务方-发送一个半消息给mq-mq返回发送成功给mq发送方-然后-业务方-执行本地事务-标识是成功或者是失败"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#方案一（用的少-第一支持的少-然后很多的幂等性不能保证）业务流程-首先是业务方-发送一个半消息给mq-mq返回发送成功给mq发送方-然后-业务方-执行本地事务-标识是成功或者是失败","aria-hidden":"true"}},[a._v("#")]),a._v(" 方案一（用的少 第一支持的少 然后很多的幂等性不能保证）业务流程 首先是业务方 发送一个半消息给mq mq返回发送成功给mq发送方 然后 业务方 执行本地事务  标识是成功或者是失败")]),a._v(" "),r("p",[a._v("还有就是mq的server端要 能够回查事务的状态 因为可能有网络原因 这就是一个补偿机制 最后MQserver端是肯定知道 这个消息要不要投递给订阅方")]),a._v(" "),r("h2",{attrs:{id:"方案二-本地事务消息表"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#方案二-本地事务消息表","aria-hidden":"true"}},[a._v("#")]),a._v(" 方案二 本地事务消息表")]),a._v(" "),r("p",[a._v("这个方案 用的比较多")]),a._v(" "),r("h1",{attrs:{id:"分布式缓存-和数据库的一致性"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#分布式缓存-和数据库的一致性","aria-hidden":"true"}},[a._v("#")]),a._v(" 分布式缓存 和数据库的一致性")]),a._v(" "),r("p",[a._v("更新数据库 同时delete缓存项目")])])}],!1,null,null,null);t.default=s.exports}}]);